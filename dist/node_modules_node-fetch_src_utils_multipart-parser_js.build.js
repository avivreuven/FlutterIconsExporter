"use strict";(self.webpackChunk_solaredge_exporter_icons_flutter=self.webpackChunk_solaredge_exporter_icons_flutter||[]).push([["node_modules_node-fetch_src_utils_multipart-parser_js"],{"./node_modules/node-fetch/src/utils/multipart-parser.js":
/*!***************************************************************!*\
  !*** ./node_modules/node-fetch/src/utils/multipart-parser.js ***!
  \***************************************************************/(e,t,n)=>{n.r(t),n.d(t,{toFormData:()=>_});var r=n(/*! fetch-blob/from.js */"./node_modules/fetch-blob/from.js"),a=n(/*! formdata-polyfill/esm.min.js */"./node_modules/formdata-polyfill/esm.min.js");let s=0;const o={START_BOUNDARY:s++,HEADER_FIELD_START:s++,HEADER_FIELD:s++,HEADER_VALUE_START:s++,HEADER_VALUE:s++,HEADER_VALUE_ALMOST_DONE:s++,HEADERS_ALMOST_DONE:s++,PART_DATA_START:s++,PART_DATA:s++,END:s++};let i=1;const d=i,E=i*=2,l=e=>32|e,A=()=>{};class h{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=A,this.onHeaderField=A,this.onHeadersEnd=A,this.onHeaderValue=A,this.onPartBegin=A,this.onPartData=A,this.onPartEnd=A,this.boundaryChars={},e="\r\n--"+e;const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n),this.boundaryChars[t[n]]=!0;this.boundary=t,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=o.START_BOUNDARY}write(e){let t=0;const n=e.length;let r=this.index,{lookbehind:a,boundary:s,boundaryChars:i,index:A,state:h,flags:_}=this;const c=this.boundary.length,f=c-1,D=e.length;let u,T;const R=e=>{this[e+"Mark"]=t},b=e=>{delete this[e+"Mark"]},H=(e,t,n,r)=>{void 0!==t&&t===n||this[e](r&&r.subarray(t,n))},p=(n,r)=>{const a=n+"Mark";a in this&&(r?(H(n,this[a],t,e),delete this[a]):(H(n,this[a],e.length,e),this[a]=0))};for(t=0;t<n;t++)switch(u=e[t],h){case o.START_BOUNDARY:if(A===s.length-2){if(45===u)_|=E;else if(13!==u)return;A++;break}if(A-1==s.length-2){if(_&E&&45===u)h=o.END,_=0;else{if(_&E||10!==u)return;A=0,H("onPartBegin"),h=o.HEADER_FIELD_START}break}u!==s[A+2]&&(A=-2),u===s[A+2]&&A++;break;case o.HEADER_FIELD_START:h=o.HEADER_FIELD,R("onHeaderField"),A=0;case o.HEADER_FIELD:if(13===u){b("onHeaderField"),h=o.HEADERS_ALMOST_DONE;break}if(A++,45===u)break;if(58===u){if(1===A)return;p("onHeaderField",!0),h=o.HEADER_VALUE_START;break}if(T=l(u),T<97||T>122)return;break;case o.HEADER_VALUE_START:if(32===u)break;R("onHeaderValue"),h=o.HEADER_VALUE;case o.HEADER_VALUE:13===u&&(p("onHeaderValue",!0),H("onHeaderEnd"),h=o.HEADER_VALUE_ALMOST_DONE);break;case o.HEADER_VALUE_ALMOST_DONE:if(10!==u)return;h=o.HEADER_FIELD_START;break;case o.HEADERS_ALMOST_DONE:if(10!==u)return;H("onHeadersEnd"),h=o.PART_DATA_START;break;case o.PART_DATA_START:h=o.PART_DATA,R("onPartData");case o.PART_DATA:if(r=A,0===A){for(t+=f;t<D&&!(e[t]in i);)t+=c;t-=f,u=e[t]}if(A<s.length)s[A]===u?(0===A&&p("onPartData",!0),A++):A=0;else if(A===s.length)A++,13===u?_|=d:45===u?_|=E:A=0;else if(A-1===s.length)if(_&d){if(A=0,10===u){_&=~d,H("onPartEnd"),H("onPartBegin"),h=o.HEADER_FIELD_START;break}}else _&E&&45===u?(H("onPartEnd"),h=o.END,_=0):A=0;if(A>0)a[A-1]=u;else if(r>0){const e=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);H("onPartData",0,r,e),r=0,R("onPartData"),t--}break;case o.END:break;default:throw new Error(`Unexpected state entered: ${h}`)}p("onHeaderField"),p("onHeaderValue"),p("onPartData"),this.index=A,this.state=h,this.flags=_}end(){if(this.state===o.HEADER_FIELD_START&&0===this.index||this.state===o.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==o.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}async function _(e,t){if(!/multipart/i.test(t))throw new TypeError("Failed to fetch");const n=t.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!n)throw new TypeError("no or bad content-type header, no multipart boundary");const s=new h(n[1]||n[2]);let o,i,d,E,l,A;const _=[],c=new a.FormData,f=e=>{d+=R.decode(e,{stream:!0})},D=e=>{_.push(e)},u=()=>{const e=new r.File(_,A,{type:l});c.append(E,e)},T=()=>{c.append(E,d)},R=new TextDecoder("utf-8");R.decode(),s.onPartBegin=function(){s.onPartData=f,s.onPartEnd=T,o="",i="",d="",E="",l="",A=null,_.length=0},s.onHeaderField=function(e){o+=R.decode(e,{stream:!0})},s.onHeaderValue=function(e){i+=R.decode(e,{stream:!0})},s.onHeaderEnd=function(){if(i+=R.decode(),o=o.toLowerCase(),"content-disposition"===o){const e=i.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);e&&(E=e[2]||e[3]||""),A=function(e){const t=e.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;const n=t[2]||t[3]||"";let r=n.slice(n.lastIndexOf("\\")+1);return r=r.replace(/%22/g,'"'),r=r.replace(/&#(\d{4});/g,((e,t)=>String.fromCharCode(t))),r}(i),A&&(s.onPartData=D,s.onPartEnd=u)}else"content-type"===o&&(l=i);i="",o=""};for await(const t of e)s.write(t);return s.end(),c}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX25vZGUtZmV0Y2hfc3JjX3V0aWxzX211bHRpcGFydC1wYXJzZXJfanMuYnVpbGQuanMiLCJtYXBwaW5ncyI6Ijs7OzBRQUdBLElBQUlBLEVBQUksRUFDUixNQUFNQyxFQUFJLENBQ1RDLGVBQWdCRixJQUNoQkcsbUJBQW9CSCxJQUNwQkksYUFBY0osSUFDZEssbUJBQW9CTCxJQUNwQk0sYUFBY04sSUFDZE8seUJBQTBCUCxJQUMxQlEsb0JBQXFCUixJQUNyQlMsZ0JBQWlCVCxJQUNqQlUsVUFBV1YsSUFDWFcsSUFBS1gsS0FHTixJQUFJWSxFQUFJLEVBQ1IsTUFBTUMsRUFDVUQsRUFEVkMsRUFFVUQsR0FBSyxFQVdmRSxFQUFRQyxHQUFTLEdBQUpBLEVBRWJDLEVBQU8sT0FFYixNQUFNQyxFQUlMLFdBQUFDLENBQVlDLEdBQ1hDLEtBQUtDLE1BQVEsRUFDYkQsS0FBS0UsTUFBUSxFQUViRixLQUFLRyxZQUFjUCxFQUNuQkksS0FBS0ksY0FBZ0JSLEVBQ3JCSSxLQUFLSyxhQUFlVCxFQUNwQkksS0FBS00sY0FBZ0JWLEVBQ3JCSSxLQUFLTyxZQUFjWCxFQUNuQkksS0FBS1EsV0FBYVosRUFDbEJJLEtBQUtTLFVBQVliLEVBRWpCSSxLQUFLVSxjQUFnQixDQUFDLEVBRXRCWCxFQUFXLFNBQVdBLEVBQ3RCLE1BQU1ZLEVBQU8sSUFBSUMsV0FBV2IsRUFBU2MsUUFDckMsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlmLEVBQVNjLE9BQVFDLElBQ3BDSCxFQUFLRyxHQUFLZixFQUFTZ0IsV0FBV0QsR0FDOUJkLEtBQUtVLGNBQWNDLEVBQUtHLEtBQU0sRUFHL0JkLEtBQUtELFNBQVdZLEVBQ2hCWCxLQUFLZ0IsV0FBYSxJQUFJSixXQUFXWixLQUFLRCxTQUFTYyxPQUFTLEdBQ3hEYixLQUFLaUIsTUFBUXBDLEVBQUVDLGNBQ2hCLENBS0EsS0FBQW9DLENBQU1DLEdBQ0wsSUFBSUwsRUFBSSxFQUNSLE1BQU1NLEVBQVVELEVBQUtOLE9BQ3JCLElB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Q21ELFFBQVEsR0FDOUMsRUFFQVosRUFBTzVDLGNBQWdCLFNBQVVLLEdBQ2hDeUMsR0FBZVEsRUFBUUMsT0FBT2xELEVBQU0sQ0FBQ21ELFFBQVEsR0FDOUMsRUFFQVosRUFBTy9DLFlBQWMsV0FJcEIsR0FIQWlELEdBQWVRLEVBQVFDLFNBQ3ZCVixFQUFjQSxFQUFZcUIsY0FFTix3QkFBaEJyQixFQUF1QyxDQUUxQyxNQUFNSCxFQUFJSSxFQUFZSCxNQUFNLHFEQUV4QkQsSUFDSE0sRUFBWU4sRUFBRSxJQUFNQSxFQUFFLElBQU0sSUFHN0JRLEVBM0ZILFNBQW1CSixHQUVsQixNQUFNSixFQUFJSSxFQUFZSCxNQUFNLDhEQUM1QixJQUFLRCxFQUNKLE9BR0QsTUFBTUMsRUFBUUQsRUFBRSxJQUFNQSxFQUFFLElBQU0sR0FDOUIsSUFBSVEsRUFBV1AsRUFBTXdCLE1BQU14QixFQUFNeUIsWUFBWSxNQUFRLEdBS3JELE9BSkFsQixFQUFXQSxFQUFTbUIsUUFBUSxPQUFRLEtBQ3BDbkIsRUFBV0EsRUFBU21CLFFBQVEsZUFBZSxDQUFDM0IsRUFBRzRCLElBQ3ZDQyxPQUFPQyxhQUFhRixLQUVyQnBCLENBQ1IsQ0E2RWN1QixDQUFVM0IsR0FFakJJLElBQ0hOLEVBQU8xQyxXQUFhdUQsRUFDcEJiLEVBQU96QyxVQUFZd0QsRUFFckIsS0FBMkIsaUJBQWhCZCxJQUNWSSxFQUFjSCxHQUdmQSxFQUFjLEdBQ2RELEVBQWMsRUFDZixFQUVBLFVBQVcsTUFBTTZCLEtBQVNwQyxFQUN6Qk0sRUFBT2hDLE1BQU04RCxHQUtkLE9BRkE5QixFQUFPbEIsTUFFQTBCLENBQ1IsQyIsInNvdXJjZXMiOlsid2VicGFjazovL0Bzb2xhcmVkZ2UvZXhwb3J0ZXItaWNvbnMtZmx1dHRlci8uL25vZGVfbW9kdWxlcy9ub2RlLWZldGNoL3NyYy91dGlscy9tdWx0aXBhcnQtcGFyc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RmlsZX0gZnJvbSAnZmV0Y2gtYmxvYi9mcm9tLmpzJztcbmltcG9ydCB7Rm9ybURhdGF9IGZyb20gJ2Zvcm1kYXRhLXBvbHlmaWxsL2VzbS5taW4uanMnO1xuXG5sZXQgcyA9IDA7XG5jb25zdCBTID0ge1xuXHRTVEFSVF9CT1VOREFSWTogcysrLFxuXHRIRUFERVJfRklFTERfU1RBUlQ6IHMrKyxcblx0SEVBREVSX0ZJRUxEOiBzKyssXG5cdEhFQURFUl9WQUxVRV9TVEFSVDogcysrLFxuXHRIRUFERVJfVkFMVUU6IHMrKyxcblx0SEVBREVSX1ZBTFVFX0FMTU9TVF9ET05FOiBzKyssXG5cdEhFQURFUlNfQUxNT1NUX0RPTkU6IHMrKyxcblx0UEFSVF9EQVRBX1NUQVJUOiBzKyssXG5cdFBBUlRfREFUQTogcysrLFxuXHRFTkQ6IHMrK1xufTtcblxubGV0IGYgPSAxO1xuY29uc3QgRiA9IHtcblx0UEFSVF9CT1VOREFSWTogZixcblx0TEFTVF9CT1VOREFSWTogZiAqPSAyXG59O1xuXG5jb25zdCBMRiA9IDEwO1xuY29uc3QgQ1IgPSAxMztcbmNvbnN0IFNQQUNFID0gMzI7XG5jb25zdCBIWVBIRU4gPSA0NTtcbmNvbnN0IENPTE9OID0gNTg7XG5jb25zdCBBID0gOTc7XG5jb25zdCBaID0gMTIyO1xuXG5jb25zdCBsb3dlciA9IGMgPT4gYyB8IDB4MjA7XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fTtcblxuY2xhc3MgTXVsdGlwYXJ0UGFyc2VyIHtcblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBib3VuZGFyeVxuXHQgKi9cblx0Y29uc3RydWN0b3IoYm91bmRhcnkpIHtcblx0XHR0aGlzLmluZGV4ID0gMDtcblx0XHR0aGlzLmZsYWdzID0gMDtcblxuXHRcdHRoaXMub25IZWFkZXJFbmQgPSBub29wO1xuXHRcdHRoaXMub25IZWFkZXJGaWVsZCA9IG5vb3A7XG5cdFx0dGhpcy5vbkhlYWRlcnNFbmQgPSBub29wO1xuXHRcdHRoaXMub25IZWFkZXJWYWx1ZSA9IG5vb3A7XG5cdFx0dGhpcy5vblBhcnRCZWdpbiA9IG5vb3A7XG5cdFx0dGhpcy5vblBhcnREYXRhID0gbm9vcDtcblx0XHR0aGlzLm9uUGFydEVuZCA9IG5vb3A7XG5cblx0XHR0aGlzLmJvdW5kYXJ5Q2hhcnMgPSB7fTtcblxuXHRcdGJvdW5kYXJ5ID0gJ1xcclxcbi0tJyArIGJvdW5kYXJ5O1xuXHRcdGNvbnN0IHVpOGEgPSBuZXcgVWludDhBcnJheShib3VuZGFyeS5sZW5ndGgpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYm91bmRhcnkubGVuZ3RoOyBpKyspIHtcblx0XHRcdHVpOGFbaV0gPSBib3VuZGFyeS5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0dGhpcy5ib3VuZGFyeUNoYXJzW3VpOGFbaV1dID0gdHJ1ZTtcblx0XHR9XG5cblx0XHR0aGlzLmJvdW5kYXJ5ID0gdWk4YTtcblx0XHR0aGlzLmxvb2tiZWhpbmQgPSBuZXcgVWludDhBcnJheSh0aGlzLmJvdW5kYXJ5Lmxlbmd0aCArIDgpO1xuXHRcdHRoaXMuc3RhdGUgPSBTLlNUQVJUX0JPVU5EQVJZO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7VWludDhBcnJheX0gZGF0YVxuXHQgKi9cblx0d3JpdGUoZGF0YSkge1xuXHRcdGxldCBpID0gMDtcblx0XHRjb25zdCBsZW5ndGhfID0gZGF0YS5sZW5ndGg7XG5cdFx0bGV0IHByZXZpb3VzSW5kZXggPSB0aGlzLmluZGV4O1xuXHRcdGxldCB7bG9va2JlaGluZCwgYm91bmRhcnksIGJvdW5kYXJ5Q2hhcnMsIGluZGV4LCBzdGF0ZSwgZmxhZ3N9ID0gdGhpcztcblx0XHRjb25zdCBib3VuZGFyeUxlbmd0aCA9IHRoaXMuYm91bmRhcnkubGVuZ3RoO1xuXHRcdGNvbnN0IGJvdW5kYXJ5RW5kID0gYm91bmRhcnlMZW5ndGggLSAxO1xuXHRcdGNvbnN0IGJ1ZmZlckxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuXHRcdGxldCBjO1xuXHRcdGxldCBjbDtcblxuXHRcdGNvbnN0IG1hcmsgPSBuYW1lID0+IHtcblx0XHRcdHRoaXNbbmFtZSArICdNYXJrJ10gPSBpO1xuXHRcdH07XG5cblx0XHRjb25zdCBjbGVhciA9IG5hbWUgPT4ge1xuXHRcdFx0ZGVsZXRlIHRoaXNbbmFtZSArICdNYXJrJ107XG5cdFx0fTtcblxuXHRcdGNvbnN0IGNhbGxiYWNrID0gKGNhbGxiYWNrU3ltYm9sLCBzdGFydCwgZW5kLCB1aThhKSA9PiB7XG5cdFx0XHRpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCAhPT0gZW5kKSB7XG5cdFx0XHRcdHRoaXNbY2FsbGJhY2tTeW1ib2xdKHVpOGEgJiYgdWk4YS5zdWJhcnJheShzdGFydCwgZW5kKSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGNvbnN0IGRhdGFDYWxsYmFjayA9IChuYW1lLCBjbGVhcikgPT4ge1xuXHRcdFx0Y29uc3QgbWFya1N5bWJvbCA9IG5hbWUgKyAnTWFyayc7XG5cdFx0XHRpZiAoIShtYXJrU3ltYm9sIGluIHRoaXMpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNsZWFyKSB7XG5cdFx0XHRcdGNhbGxiYWNrKG5hbWUsIHRoaXNbbWFya1N5bWJvbF0sIGksIGRhdGEpO1xuXHRcdFx0XHRkZWxldGUgdGhpc1ttYXJrU3ltYm9sXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNhbGxiYWNrKG5hbWUsIHRoaXNbbWFya1N5bWJvbF0sIGRhdGEubGVuZ3RoLCBkYXRhKTtcblx0XHRcdFx0dGhpc1ttYXJrU3ltYm9sXSA9IDA7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBsZW5ndGhfOyBpKyspIHtcblx0XHRcdGMgPSBkYXRhW2ldO1xuXG5cdFx0XHRzd2l0Y2ggKHN0YXRlKSB7XG5cdFx0XHRcdGNhc2UgUy5TVEFSVF9CT1VOREFSWTpcblx0XHRcdFx0XHRpZiAoaW5kZXggPT09IGJvdW5kYXJ5Lmxlbmd0aCAtIDIpIHtcblx0XHRcdFx0XHRcdGlmIChjID09PSBIWVBIRU4pIHtcblx0XHRcdFx0XHRcdFx0ZmxhZ3MgfD0gRi5MQVNUX0JPVU5EQVJZO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChjICE9PSBDUikge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGluZGV4IC0gMSA9PT0gYm91bmRhcnkubGVuZ3RoIC0gMikge1xuXHRcdFx0XHRcdFx0aWYgKGZsYWdzICYgRi5MQVNUX0JPVU5EQVJZICYmIGMgPT09IEhZUEhFTikge1xuXHRcdFx0XHRcdFx0XHRzdGF0ZSA9IFMuRU5EO1xuXHRcdFx0XHRcdFx0XHRmbGFncyA9IDA7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCEoZmxhZ3MgJiBGLkxBU1RfQk9VTkRBUlkpICYmIGMgPT09IExGKSB7XG5cdFx0XHRcdFx0XHRcdGluZGV4ID0gMDtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soJ29uUGFydEJlZ2luJyk7XG5cdFx0XHRcdFx0XHRcdHN0YXRlID0gUy5IRUFERVJfRklFTERfU1RBUlQ7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChjICE9PSBib3VuZGFyeVtpbmRleCArIDJdKSB7XG5cdFx0XHRcdFx0XHRpbmRleCA9IC0yO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChjID09PSBib3VuZGFyeVtpbmRleCArIDJdKSB7XG5cdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFMuSEVBREVSX0ZJRUxEX1NUQVJUOlxuXHRcdFx0XHRcdHN0YXRlID0gUy5IRUFERVJfRklFTEQ7XG5cdFx0XHRcdFx0bWFyaygnb25IZWFkZXJGaWVsZCcpO1xuXHRcdFx0XHRcdGluZGV4ID0gMDtcblx0XHRcdFx0XHQvLyBmYWxscyB0aHJvdWdoXG5cdFx0XHRcdGNhc2UgUy5IRUFERVJfRklFTEQ6XG5cdFx0XHRcdFx0aWYgKGMgPT09IENSKSB7XG5cdFx0XHRcdFx0XHRjbGVhcignb25IZWFkZXJGaWVsZCcpO1xuXHRcdFx0XHRcdFx0c3RhdGUgPSBTLkhFQURFUlNfQUxNT1NUX0RPTkU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdGlmIChjID09PSBIWVBIRU4pIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChjID09PSBDT0xPTikge1xuXHRcdFx0XHRcdFx0aWYgKGluZGV4ID09PSAxKSB7XG5cdFx0XHRcdFx0XHRcdC8vIGVtcHR5IGhlYWRlciBmaWVsZFxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGRhdGFDYWxsYmFjaygnb25IZWFkZXJGaWVsZCcsIHRydWUpO1xuXHRcdFx0XHRcdFx0c3RhdGUgPSBTLkhFQURFUl9WQUxVRV9TVEFSVDtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNsID0gbG93ZXIoYyk7XG5cdFx0XHRcdFx0aWYgKGNsIDwgQSB8fCBjbCA+IFopIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBTLkhFQURFUl9WQUxVRV9TVEFSVDpcblx0XHRcdFx0XHRpZiAoYyA9PT0gU1BBQ0UpIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG1hcmsoJ29uSGVhZGVyVmFsdWUnKTtcblx0XHRcdFx0XHRzdGF0ZSA9IFMuSEVBREVSX1ZBTFVFO1xuXHRcdFx0XHRcdC8vIGZhbGxzIHRocm91Z2hcblx0XHRcdFx0Y2FzZSBTLkhFQURFUl9WQUxVRTpcblx0XHRcdFx0XHRpZiAoYyA9PT0gQ1IpIHtcblx0XHRcdFx0XHRcdGRhdGFDYWxsYmFjaygnb25IZWFkZXJWYWx1ZScsIHRydWUpO1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2soJ29uSGVhZGVyRW5kJyk7XG5cdFx0XHRcdFx0XHRzdGF0ZSA9IFMuSEVBREVSX1ZBTFVFX0FMTU9TVF9ET05FO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFMuSEVBREVSX1ZBTFVFX0FMTU9TVF9ET05FOlxuXHRcdFx0XHRcdGlmIChjICE9PSBMRikge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHN0YXRlID0gUy5IRUFERVJfRklFTERfU1RBUlQ7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgUy5IRUFERVJTX0FMTU9TVF9ET05FOlxuXHRcdFx0XHRcdGlmIChjICE9PSBMRikge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNhbGxiYWNrKCdvbkhlYWRlcnNFbmQnKTtcblx0XHRcdFx0XHRzdGF0ZSA9IFMuUEFSVF9EQVRBX1NUQVJUO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFMuUEFSVF9EQVRBX1NUQVJUOlxuXHRcdFx0XHRcdHN0YXRlID0gUy5QQVJUX0RBVEE7XG5cdFx0XHRcdFx0bWFyaygnb25QYXJ0RGF0YScpO1xuXHRcdFx0XHRcdC8vIGZhbGxzIHRocm91Z2hcblx0XHRcdFx0Y2FzZSBTLlBBUlRfREFUQTpcblx0XHRcdFx0XHRwcmV2aW91c0luZGV4ID0gaW5kZXg7XG5cblx0XHRcdFx0XHRpZiAoaW5kZXggPT09IDApIHtcblx0XHRcdFx0XHRcdC8vIGJveWVyLW1vb3JlIGRlcnJpdmVkIGFsZ29yaXRobSB0byBzYWZlbHkgc2tpcCBub24tYm91bmRhcnkgZGF0YVxuXHRcdFx0XHRcdFx0aSArPSBib3VuZGFyeUVuZDtcblx0XHRcdFx0XHRcdHdoaWxlIChpIDwgYnVmZmVyTGVuZ3RoICYmICEoZGF0YVtpXSBpbiBib3VuZGFyeUNoYXJzKSkge1xuXHRcdFx0XHRcdFx0XHRpICs9IGJvdW5kYXJ5TGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpIC09IGJvdW5kYXJ5RW5kO1xuXHRcdFx0XHRcdFx0YyA9IGRhdGFbaV07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGluZGV4IDwgYm91bmRhcnkubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRpZiAoYm91bmRhcnlbaW5kZXhdID09PSBjKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChpbmRleCA9PT0gMCkge1xuXHRcdFx0XHRcdFx0XHRcdGRhdGFDYWxsYmFjaygnb25QYXJ0RGF0YScsIHRydWUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGluZGV4ID0gMDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2UgaWYgKGluZGV4ID09PSBib3VuZGFyeS5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0XHRpZiAoYyA9PT0gQ1IpIHtcblx0XHRcdFx0XHRcdFx0Ly8gQ1IgPSBwYXJ0IGJvdW5kYXJ5XG5cdFx0XHRcdFx0XHRcdGZsYWdzIHw9IEYuUEFSVF9CT1VOREFSWTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoYyA9PT0gSFlQSEVOKSB7XG5cdFx0XHRcdFx0XHRcdC8vIEhZUEhFTiA9IGVuZCBib3VuZGFyeVxuXHRcdFx0XHRcdFx0XHRmbGFncyB8PSBGLkxBU1RfQk9VTkRBUlk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRpbmRleCA9IDA7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChpbmRleCAtIDEgPT09IGJvdW5kYXJ5Lmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0aWYgKGZsYWdzICYgRi5QQVJUX0JPVU5EQVJZKSB7XG5cdFx0XHRcdFx0XHRcdGluZGV4ID0gMDtcblx0XHRcdFx0XHRcdFx0aWYgKGMgPT09IExGKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gdW5zZXQgdGhlIFBBUlRfQk9VTkRBUlkgZmxhZ1xuXHRcdFx0XHRcdFx0XHRcdGZsYWdzICY9IH5GLlBBUlRfQk9VTkRBUlk7XG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soJ29uUGFydEVuZCcpO1xuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrKCdvblBhcnRCZWdpbicpO1xuXHRcdFx0XHRcdFx0XHRcdHN0YXRlID0gUy5IRUFERVJfRklFTERfU1RBUlQ7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoZmxhZ3MgJiBGLkxBU1RfQk9VTkRBUlkpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGMgPT09IEhZUEhFTikge1xuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrKCdvblBhcnRFbmQnKTtcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZSA9IFMuRU5EO1xuXHRcdFx0XHRcdFx0XHRcdGZsYWdzID0gMDtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRpbmRleCA9IDA7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGluZGV4ID0gMDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoaW5kZXggPiAwKSB7XG5cdFx0XHRcdFx0XHQvLyB3aGVuIG1hdGNoaW5nIGEgcG9zc2libGUgYm91bmRhcnksIGtlZXAgYSBsb29rYmVoaW5kIHJlZmVyZW5jZVxuXHRcdFx0XHRcdFx0Ly8gaW4gY2FzZSBpdCB0dXJucyBvdXQgdG8gYmUgYSBmYWxzZSBsZWFkXG5cdFx0XHRcdFx0XHRsb29rYmVoaW5kW2luZGV4IC0gMV0gPSBjO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAocHJldmlvdXNJbmRleCA+IDApIHtcblx0XHRcdFx0XHRcdC8vIGlmIG91ciBib3VuZGFyeSB0dXJuZWQgb3V0IHRvIGJlIHJ1YmJpc2gsIHRoZSBjYXB0dXJlZCBsb29rYmVoaW5kXG5cdFx0XHRcdFx0XHQvLyBiZWxvbmdzIHRvIHBhcnREYXRhXG5cdFx0XHRcdFx0XHRjb25zdCBfbG9va2JlaGluZCA9IG5ldyBVaW50OEFycmF5KGxvb2tiZWhpbmQuYnVmZmVyLCBsb29rYmVoaW5kLmJ5dGVPZmZzZXQsIGxvb2tiZWhpbmQuYnl0ZUxlbmd0aCk7XG5cdFx0XHRcdFx0XHRjYWxsYmFjaygnb25QYXJ0RGF0YScsIDAsIHByZXZpb3VzSW5kZXgsIF9sb29rYmVoaW5kKTtcblx0XHRcdFx0XHRcdHByZXZpb3VzSW5kZXggPSAwO1xuXHRcdFx0XHRcdFx0bWFyaygnb25QYXJ0RGF0YScpO1xuXG5cdFx0XHRcdFx0XHQvLyByZWNvbnNpZGVyIHRoZSBjdXJyZW50IGNoYXJhY3RlciBldmVuIHNvIGl0IGludGVycnVwdGVkIHRoZSBzZXF1ZW5jZVxuXHRcdFx0XHRcdFx0Ly8gaXQgY291bGQgYmUgdGhlIGJlZ2lubmluZyBvZiBhIG5ldyBzZXF1ZW5jZVxuXHRcdFx0XHRcdFx0aS0tO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFMuRU5EOlxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBzdGF0ZSBlbnRlcmVkOiAke3N0YXRlfWApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGRhdGFDYWxsYmFjaygnb25IZWFkZXJGaWVsZCcpO1xuXHRcdGRhdGFDYWxsYmFjaygnb25IZWFkZXJWYWx1ZScpO1xuXHRcdGRhdGFDYWxsYmFjaygnb25QYXJ0RGF0YScpO1xuXG5cdFx0Ly8gVXBkYXRlIHByb3BlcnRpZXMgZm9yIHRoZSBuZXh0IGNhbGxcblx0XHR0aGlzLmluZGV4ID0gaW5kZXg7XG5cdFx0dGhpcy5zdGF0ZSA9IHN0YXRlO1xuXHRcdHRoaXMuZmxhZ3MgPSBmbGFncztcblx0fVxuXG5cdGVuZCgpIHtcblx0XHRpZiAoKHRoaXMuc3RhdGUgPT09IFMuSEVBREVSX0ZJRUxEX1NUQVJUICYmIHRoaXMuaW5kZXggPT09IDApIHx8XG5cdFx0XHQodGhpcy5zdGF0ZSA9PT0gUy5QQVJUX0RBVEEgJiYgdGhpcy5pbmRleCA9PT0gdGhpcy5ib3VuZGFyeS5sZW5ndGgpKSB7XG5cdFx0XHR0aGlzLm9uUGFydEVuZCgpO1xuXHRcdH0gZWxzZSBpZiAodGhpcy5zdGF0ZSAhPT0gUy5FTkQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignTXVsdGlwYXJ0UGFyc2VyLmVuZCgpOiBzdHJlYW0gZW5kZWQgdW5leHBlY3RlZGx5Jyk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIF9maWxlTmFtZShoZWFkZXJWYWx1ZSkge1xuXHQvLyBtYXRjaGVzIGVpdGhlciBhIHF1b3RlZC1zdHJpbmcgb3IgYSB0b2tlbiAoUkZDIDI2MTYgc2VjdGlvbiAxOS41LjEpXG5cdGNvbnN0IG0gPSBoZWFkZXJWYWx1ZS5tYXRjaCgvXFxiZmlsZW5hbWU9KFwiKC4qPylcInwoW14oKTw+QCw7OlxcXFxcIi9bXFxdPz17fVxcc1xcdF0rKSkoJHw7XFxzKS9pKTtcblx0aWYgKCFtKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgbWF0Y2ggPSBtWzJdIHx8IG1bM10gfHwgJyc7XG5cdGxldCBmaWxlbmFtZSA9IG1hdGNoLnNsaWNlKG1hdGNoLmxhc3RJbmRleE9mKCdcXFxcJykgKyAxKTtcblx0ZmlsZW5hbWUgPSBmaWxlbmFtZS5yZXBsYWNlKC8lMjIvZywgJ1wiJyk7XG5cdGZpbGVuYW1lID0gZmlsZW5hbWUucmVwbGFjZSgvJiMoXFxkezR9KTsvZywgKG0sIGNvZGUpID0+IHtcblx0XHRyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcblx0fSk7XG5cdHJldHVybiBmaWxlbmFtZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvRm9ybURhdGEoQm9keSwgY3QpIHtcblx0aWYgKCEvbXVsdGlwYXJ0L2kudGVzdChjdCkpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdGYWlsZWQgdG8gZmV0Y2gnKTtcblx0fVxuXG5cdGNvbnN0IG0gPSBjdC5tYXRjaCgvYm91bmRhcnk9KD86XCIoW15cIl0rKVwifChbXjtdKykpL2kpO1xuXG5cdGlmICghbSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ25vIG9yIGJhZCBjb250ZW50LXR5cGUgaGVhZGVyLCBubyBtdWx0aXBhcnQgYm91bmRhcnknKTtcblx0fVxuXG5cdGNvbnN0IHBhcnNlciA9IG5ldyBNdWx0aXBhcnRQYXJzZXIobVsxXSB8fCBtWzJdKTtcblxuXHRsZXQgaGVhZGVyRmllbGQ7XG5cdGxldCBoZWFkZXJWYWx1ZTtcblx0bGV0IGVudHJ5VmFsdWU7XG5cdGxldCBlbnRyeU5hbWU7XG5cdGxldCBjb250ZW50VHlwZTtcblx0bGV0IGZpbGVuYW1lO1xuXHRjb25zdCBlbnRyeUNodW5rcyA9IFtdO1xuXHRjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuXG5cdGNvbnN0IG9uUGFydERhdGEgPSB1aThhID0+IHtcblx0XHRlbnRyeVZhbHVlICs9IGRlY29kZXIuZGVjb2RlKHVpOGEsIHtzdHJlYW06IHRydWV9KTtcblx0fTtcblxuXHRjb25zdCBhcHBlbmRUb0ZpbGUgPSB1aThhID0+IHtcblx0XHRlbnRyeUNodW5rcy5wdXNoKHVpOGEpO1xuXHR9O1xuXG5cdGNvbnN0IGFwcGVuZEZpbGVUb0Zvcm1EYXRhID0gKCkgPT4ge1xuXHRcdGNvbnN0IGZpbGUgPSBuZXcgRmlsZShlbnRyeUNodW5rcywgZmlsZW5hbWUsIHt0eXBlOiBjb250ZW50VHlwZX0pO1xuXHRcdGZvcm1EYXRhLmFwcGVuZChlbnRyeU5hbWUsIGZpbGUpO1xuXHR9O1xuXG5cdGNvbnN0IGFwcGVuZEVudHJ5VG9Gb3JtRGF0YSA9ICgpID0+IHtcblx0XHRmb3JtRGF0YS5hcHBlbmQoZW50cnlOYW1lLCBlbnRyeVZhbHVlKTtcblx0fTtcblxuXHRjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGYtOCcpO1xuXHRkZWNvZGVyLmRlY29kZSgpO1xuXG5cdHBhcnNlci5vblBhcnRCZWdpbiA9IGZ1bmN0aW9uICgpIHtcblx0XHRwYXJzZXIub25QYXJ0RGF0YSA9IG9uUGFydERhdGE7XG5cdFx0cGFyc2VyLm9uUGFydEVuZCA9IGFwcGVuZEVudHJ5VG9Gb3JtRGF0YTtcblxuXHRcdGhlYWRlckZpZWxkID0gJyc7XG5cdFx0aGVhZGVyVmFsdWUgPSAnJztcblx0XHRlbnRyeVZhbHVlID0gJyc7XG5cdFx0ZW50cnlOYW1lID0gJyc7XG5cdFx0Y29udGVudFR5cGUgPSAnJztcblx0XHRmaWxlbmFtZSA9IG51bGw7XG5cdFx0ZW50cnlDaHVua3MubGVuZ3RoID0gMDtcblx0fTtcblxuXHRwYXJzZXIub25IZWFkZXJGaWVsZCA9IGZ1bmN0aW9uICh1aThhKSB7XG5cdFx0aGVhZGVyRmllbGQgKz0gZGVjb2Rlci5kZWNvZGUodWk4YSwge3N0cmVhbTogdHJ1ZX0pO1xuXHR9O1xuXG5cdHBhcnNlci5vbkhlYWRlclZhbHVlID0gZnVuY3Rpb24gKHVpOGEpIHtcblx0XHRoZWFkZXJWYWx1ZSArPSBkZWNvZGVyLmRlY29kZSh1aThhLCB7c3RyZWFtOiB0cnVlfSk7XG5cdH07XG5cblx0cGFyc2VyLm9uSGVhZGVyRW5kID0gZnVuY3Rpb24gKCkge1xuXHRcdGhlYWRlclZhbHVlICs9IGRlY29kZXIuZGVjb2RlKCk7XG5cdFx0aGVhZGVyRmllbGQgPSBoZWFkZXJGaWVsZC50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0aWYgKGhlYWRlckZpZWxkID09PSAnY29udGVudC1kaXNwb3NpdGlvbicpIHtcblx0XHRcdC8vIG1hdGNoZXMgZWl0aGVyIGEgcXVvdGVkLXN0cmluZyBvciBhIHRva2VuIChSRkMgMjYxNiBzZWN0aW9uIDE5LjUuMSlcblx0XHRcdGNvbnN0IG0gPSBoZWFkZXJWYWx1ZS5tYXRjaCgvXFxibmFtZT0oXCIoW15cIl0qKVwifChbXigpPD5ALDs6XFxcXFwiL1tcXF0/PXt9XFxzXFx0XSspKS9pKTtcblxuXHRcdFx0aWYgKG0pIHtcblx0XHRcdFx0ZW50cnlOYW1lID0gbVsyXSB8fCBtWzNdIHx8ICcnO1xuXHRcdFx0fVxuXG5cdFx0XHRmaWxlbmFtZSA9IF9maWxlTmFtZShoZWFkZXJWYWx1ZSk7XG5cblx0XHRcdGlmIChmaWxlbmFtZSkge1xuXHRcdFx0XHRwYXJzZXIub25QYXJ0RGF0YSA9IGFwcGVuZFRvRmlsZTtcblx0XHRcdFx0cGFyc2VyLm9uUGFydEVuZCA9IGFwcGVuZEZpbGVUb0Zvcm1EYXRhO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoaGVhZGVyRmllbGQgPT09ICdjb250ZW50LXR5cGUnKSB7XG5cdFx0XHRjb250ZW50VHlwZSA9IGhlYWRlclZhbHVlO1xuXHRcdH1cblxuXHRcdGhlYWRlclZhbHVlID0gJyc7XG5cdFx0aGVhZGVyRmllbGQgPSAnJztcblx0fTtcblxuXHRmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIEJvZHkpIHtcblx0XHRwYXJzZXIud3JpdGUoY2h1bmspO1xuXHR9XG5cblx0cGFyc2VyLmVuZCgpO1xuXG5cdHJldHVybiBmb3JtRGF0YTtcbn1cbiJdLCJuYW1lcyI6WyJzIiwiUyIsIlNUQVJUX0JPVU5EQVJZIiwiSEVBREVSX0ZJRUxEX1NUQVJUIiwiSEVBREVSX0ZJRUxEIiwiSEVBREVSX1ZBTFVFX1NUQVJUIiwiSEVBREVSX1ZBTFVFIiwiSEVBREVSX1ZBTFVFX0FMTU9TVF9ET05FIiwiSEVBREVSU19BTE1PU1RfRE9ORSIsIlBBUlRfREFUQV9TVEFSVCIsIlBBUlRfREFUQSIsIkVORCIsImYiLCJGIiwibG93ZXIiLCJjIiwibm9vcCIsIk11bHRpcGFydFBhcnNlciIsImNvbnN0cnVjdG9yIiwiYm91bmRhcnkiLCJ0aGlzIiwiaW5kZXgiLCJmbGFncyIsIm9uSGVhZGVyRW5kIiwib25IZWFkZXJGaWVsZCIsIm9uSGVhZGVyc0VuZCIsIm9uSGVhZGVyVmFsdWUiLCJvblBhcnRCZWdpbiIsIm9uUGFydERhdGEiLCJvblBhcnRFbmQiLCJib3VuZGFyeUNoYXJzIiwidWk4YSIsIlVpbnQ4QXJyYXkiLCJsZW5ndGgiLCJpIiwiY2hhckNvZGVBdCIsImxvb2tiZWhpbmQiLCJzdGF0ZSIsIndyaXRlIiwiZGF0YSIsImxlbmd0aF8iLCJwcmV2aW91c0luZGV4IiwiYm91bmRhcnlMZW5ndGgiLCJib3VuZGFyeUVuZCIsImJ1ZmZlckxlbmd0aCIsImNsIiwibWFyayIsIm5hbWUiLCJjbGVhciIsImNhbGxiYWNrIiwiY2FsbGJhY2tTeW1ib2wiLCJzdGFydCIsImVuZCIsInVuZGVmaW5lZCIsInN1YmFycmF5IiwiZGF0YUNhbGxiYWNrIiwibWFya1N5bWJvbCIsIl9sb29rYmVoaW5kIiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJFcnJvciIsImFzeW5jIiwidG9Gb3JtRGF0YSIsIkJvZHkiLCJjdCIsInRlc3QiLCJUeXBlRXJyb3IiLCJtIiwibWF0Y2giLCJwYXJzZXIiLCJoZWFkZXJGaWVsZCIsImhlYWRlclZhbHVlIiwiZW50cnlWYWx1ZSIsImVudHJ5TmFtZSIsImNvbnRlbnRUeXBlIiwiZmlsZW5hbWUiLCJlbnRyeUNodW5rcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJkZWNvZGVyIiwiZGVjb2RlIiwic3RyZWFtIiwiYXBwZW5kVG9GaWxlIiwicHVzaCIsImFwcGVuZEZpbGVUb0Zvcm1EYXRhIiwiZmlsZSIsIkZpbGUiLCJ0eXBlIiwiYXBwZW5kIiwiYXBwZW5kRW50cnlUb0Zvcm1EYXRhIiwiVGV4dERlY29kZXIiLCJ0b0xvd2VyQ2FzZSIsInNsaWNlIiwibGFzdEluZGV4T2YiLCJyZXBsYWNlIiwiY29kZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsIl9maWxlTmFtZSIsImNodW5rIl0sInNvdXJjZVJvb3QiOiIifQ==